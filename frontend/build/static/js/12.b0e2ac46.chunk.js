(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[12],{139:function(e,n,a){"use strict";var t=a(1),r=a(0),i=a.n(r),o=a(4),s=a.n(o);n.a=function(e){return i.a.forwardRef((function(n,a){return i.a.createElement("div",Object(t.a)({},n,{ref:a,className:s()(n.className,e)}))}))}},140:function(e,n,a){"use strict";var t=a(0),r=a.n(t),i=a(141),o=function(e){var n=e.variant,a=e.children;return r.a.createElement(i.a,{variant:n},a)};o.defaultProps={variant:"info"},n.a=o},141:function(e,n,a){"use strict";var t,r=a(1),i=a(2),o=a(4),s=a.n(o),l=a(0),d=a.n(l),c=a(21),u=a(11),m=a(5),p=a(60),v=a(30),f=a(61),E=((t={})[v.b]="show",t[v.a]="show",t),b=d.a.forwardRef((function(e,n){var a=e.className,t=e.children,o=Object(i.a)(e,["className","children"]),c=Object(l.useCallback)((function(e){Object(f.a)(e),o.onEnter&&o.onEnter(e)}),[o]);return d.a.createElement(v.e,Object(r.a)({ref:n,addEndListener:p.a},o,{onEnter:c}),(function(e,n){return d.a.cloneElement(t,Object(r.a)({},n,{className:s()("fade",a,t.props.className,E[e])}))}))}));b.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},b.displayName="Fade";var y=b,h=a(6),A=a.n(h),O={label:A.a.string.isRequired,onClick:A.a.func},_=d.a.forwardRef((function(e,n){var a=e.label,t=e.onClick,o=e.className,l=Object(i.a)(e,["label","onClick","className"]);return d.a.createElement("button",Object(r.a)({ref:n,type:"button",className:s()("close",o),onClick:t},l),d.a.createElement("span",{"aria-hidden":"true"},"\xd7"),d.a.createElement("span",{className:"sr-only"},a))}));_.displayName="CloseButton",_.propTypes=O,_.defaultProps={label:"Close"};var S=_,j=a(139),g=a(20),w=a(29),I=Object(j.a)("h4");I.displayName="DivStyledAsH4";var U=Object(g.a)("alert-heading",{Component:I}),R=Object(g.a)("alert-link",{Component:w.a}),F={show:!0,transition:y,closeLabel:"Close alert"},P=d.a.forwardRef((function(e,n){var a=Object(c.a)(e,{show:"onClose"}),t=a.bsPrefix,o=a.show,l=a.closeLabel,p=a.className,v=a.children,f=a.variant,E=a.onClose,b=a.dismissible,h=a.transition,A=Object(i.a)(a,["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"]),O=Object(m.a)(t,"alert"),_=Object(u.a)((function(e){E&&E(!1,e)})),j=!0===h?y:h,g=d.a.createElement("div",Object(r.a)({role:"alert"},j?A:void 0,{ref:n,className:s()(p,O,f&&O+"-"+f,b&&O+"-dismissible")}),b&&d.a.createElement(S,{onClick:_,label:l}),v);return j?d.a.createElement(j,Object(r.a)({unmountOnExit:!0},A,{ref:void 0,in:o}),g):o?g:null}));P.displayName="Alert",P.defaultProps=F,P.Link=R,P.Heading=U;n.a=P},142:function(e,n,a){"use strict";var t=a(0),r=a.n(t),i=a(134),o=a(133),s=a(82);n.a=function(e){var n=e.children;return r.a.createElement(i.a,null,r.a.createElement(o.a,{className:"justify-content-md-center"},r.a.createElement(s.a,{xs:12,md:6},n)))}},151:function(e,n,a){"use strict";a.d(n,"b",(function(){return d})),a.d(n,"c",(function(){return c})),a.d(n,"a",(function(){return u})),a.d(n,"d",(function(){return m}));var t=a(26),r=a.n(t),i=a(43),o=a(44),s=a.n(o),l=a(15),d=function(){return function(){var e=Object(i.a)(r.a.mark((function e(n,a){var t,i,o,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a().userReducer.userInfo.token,n({type:l.a.GET_USER_LIST_START}),"\n          query{\n            getAllUsersForAdmin{\n                  _id\n                  name\n                  email\n                  isAdmin\n                  isOwner\n              }\n          }\n        ",e.next=6,s()({method:"POST",url:"/graphql",data:{query:"\n          query{\n            getAllUsersForAdmin{\n                  _id\n                  name\n                  email\n                  isAdmin\n                  isOwner\n              }\n          }\n        "},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 6:i=e.sent,o=i.data,n({type:l.a.GET_USER_LIST_SUCCESS,payload:o.data.getAllUsersForAdmin}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),d=e.t0.response.data.errors?e.t0.response.data.errors[0].message:e.t0.response.data,n({type:l.a.GET_USER_LIST_FAIL,payload:d});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,a){return e.apply(this,arguments)}}()},c=function(e){return function(){var n=Object(i.a)(r.a.mark((function n(a,t){var i,o,d,c,u,m,p,v;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=t().userReducer.userInfo.token,"\n          mutation removeUserById($id:String!){\n            removeUserById(id :$id){\n                  _id\n                  \n               \n              }\n          }\n        ",n.next=5,s.a.post("/graphql",{query:"\n          mutation removeUserById($id:String!){\n            removeUserById(id :$id){\n                  _id\n                  \n               \n              }\n          }\n        ",variables:{id:e}},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)}});case 5:o=n.sent,d=o.data,a({type:l.a.REMOVE_USER_FROM_DATA,payload:d.data.removeUserById._id}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),v=(null===n.t0||void 0===n.t0||null===(c=n.t0.response)||void 0===c?void 0:c.data.errors)?null===n.t0||void 0===n.t0||null===(u=n.t0.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.errors[0].message:null===n.t0||void 0===n.t0||null===(p=n.t0.response)||void 0===p?void 0:p.data,a({type:l.a.REMOVE_USER_FAIL,payload:v});case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,a){return n.apply(this,arguments)}}()},u=function(e){return function(){var n=Object(i.a)(r.a.mark((function n(a,t){var i,o,d,c,u,m,p,v;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:l.a.GET_USER_PROFILE_START_FOR_ADMIN}),i=t().userReducer.userInfo.token,"\n          query getUserByIdForAdmin($id:String!){\n            getUserByIdForAdmin(id :$id){\n                  _id\n                  name\n                  email\n                  isAdmin\n                  ordersList{\n                    _id\n                  }\n              }\n          }\n        ",n.next=6,s.a.post("/graphql",{query:"\n          query getUserByIdForAdmin($id:String!){\n            getUserByIdForAdmin(id :$id){\n                  _id\n                  name\n                  email\n                  isAdmin\n                  ordersList{\n                    _id\n                  }\n              }\n          }\n        ",variables:{id:e}},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)}});case 6:o=n.sent,d=o.data,a({type:l.a.GET_USER_PROFILE_SUCCESS_FOR_ADMIN,payload:d.data.getUserByIdForAdmin}),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),v=(null===n.t0||void 0===n.t0||null===(c=n.t0.response)||void 0===c?void 0:c.data.errors)?null===n.t0||void 0===n.t0||null===(u=n.t0.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.errors[0].message:null===n.t0||void 0===n.t0||null===(p=n.t0.response)||void 0===p?void 0:p.data,a({type:l.a.GET_USER_PROFILE_FAIL_FOR_ADMIN,payload:v});case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,a){return n.apply(this,arguments)}}()},m=function(e){var n=e.id,a=e.adminPassword,t=e.isAdmin,o=e.name,d=e.email;return function(){var e=Object(i.a)(r.a.mark((function e(i,c){var u,m,p,v,f,E,b,y;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i({type:l.a.UPDATE_PROFILE_START_FOR_ADMIN}),u=c().userReducer.userInfo.token,"\n          query updateUserProfileForAdmin($id:String! , $name:String , $email:String , $adminPassword:String! , $isAdmin: Boolean! ){\n            updateUserProfileForAdmin(id :$id name:$name , email:$email , adminPassword:$adminPassword , isAdmin: $isAdmin){\n                  _id\n                  name\n                  email\n                  isAdmin\n                  ordersList{\n                    _id\n                  }\n              }\n          }\n        ",e.next=6,s.a.post("/graphql",{query:"\n          query updateUserProfileForAdmin($id:String! , $name:String , $email:String , $adminPassword:String! , $isAdmin: Boolean! ){\n            updateUserProfileForAdmin(id :$id name:$name , email:$email , adminPassword:$adminPassword , isAdmin: $isAdmin){\n                  _id\n                  name\n                  email\n                  isAdmin\n                  ordersList{\n                    _id\n                  }\n              }\n          }\n        ",variables:{id:n,adminPassword:a,isAdmin:t,name:o,email:d}},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)}});case 6:m=e.sent,p=m.data,i({type:l.a.UPDATE_PROFILE_SUCCESS_FOR_ADMIN,payload:p.data.updateUserProfileForAdmin}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),y=(null===e.t0||void 0===e.t0||null===(v=e.t0.response)||void 0===v?void 0:v.data.errors)?null===e.t0||void 0===e.t0||null===(f=e.t0.response)||void 0===f||null===(E=f.data)||void 0===E?void 0:E.errors[0].message:null===e.t0||void 0===e.t0||null===(b=e.t0.response)||void 0===b?void 0:b.data,i({type:l.a.GET_USER_PROFILE_FAIL_FOR_ADMIN,payload:y});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,a){return e.apply(this,arguments)}}()}},164:function(e,n,a){"use strict";a.r(n);var t=a(64),r=a(3),i=a(63),o=a(0),s=a.n(o),l=a(133),d=a(82),c=a(136),u=a(84),m=a(25),p=a(140),v=a(62),f=a(151),E=a(34),b=a(142);n.default=function(e){var n=e.match,a=e.history,y=Object(m.b)(),h=Object(m.c)((function(e){return e.adminReducer})),A=h.UserForAdminError,O=h.getUserFetchState,_=h.UserForAdmin,S=h.updateUserState,j=h.updateUserSuccess,g=Object(o.useState)({email:"",name:"",adminPassword:""}),w=Object(i.a)(g,2),I=w[0],U=w[1],R=Object(o.useState)(!1),F=Object(i.a)(R,2),P=F[0],C=F[1],k=I.email,$=I.name,L=I.adminPassword,N=function(e){var n=e.target,a=n.name,i=n.value;U((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(t.a)({},a,i))}))};return Object(o.useEffect)((function(){(null===_||void 0===_?void 0:_.name)||S?(U((function(e){return Object(r.a)(Object(r.a)({},e),{},{email:null===_||void 0===_?void 0:_.email,name:null===_||void 0===_?void 0:_.name})})),C(null===_||void 0===_?void 0:_.isAdmin)):y(Object(f.a)(n.params.userid))}),[_,y]),Object(o.useEffect)((function(){j&&a.push("/admin/userlist"),U((function(e){return Object(r.a)(Object(r.a)({},e),{},{email:null===_||void 0===_?void 0:_.email,name:null===_||void 0===_?void 0:_.name})})),C(null===_||void 0===_?void 0:_.isAdmin)}),[S,j]),s.a.createElement(b.a,null,s.a.createElement(E.Link,{to:"/admin/userlist",className:"btn btn-light my-3"}," ","Go Back"),O?s.a.createElement(v.a,null):A?s.a.createElement(p.a,{variant:"danger"},A):s.a.createElement(l.a,null,s.a.createElement(d.a,{md:12},s.a.createElement("h2",null," Edit User "),s.a.createElement(c.a,{onSubmit:function(e){e.preventDefault(),y(Object(f.d)({name:$,email:k,adminPassword:L,id:n.params.userid,isAdmin:P}))}},s.a.createElement(c.a.Group,{controlId:"name"},s.a.createElement(c.a.Label,null,"Name"),s.a.createElement(c.a.Control,{type:"name",placeholder:"Enter user name",name:"name",value:$,onChange:N})),s.a.createElement(c.a.Group,{controlId:"email"},s.a.createElement(c.a.Label,null,"Email address"),s.a.createElement(c.a.Control,{type:"email",placeholder:"Enter user email",name:"email",value:k,onChange:N})),s.a.createElement(c.a.Group,{controlId:"email"},s.a.createElement(c.a.Check,{type:"checkbox",label:"Is Admin",name:"isAdmin",checked:P,onChange:function(e){C(e.target.checked)}})),s.a.createElement(c.a.Group,{controlId:"adminPassword"},s.a.createElement(c.a.Label,null,"Enter your password"),s.a.createElement(c.a.Control,{type:"password",placeholder:"Enter your password",name:"adminPassword",value:L,onChange:N,required:!0})),s.a.createElement(u.a,{type:"submit"}," update")))))}}}]);
//# sourceMappingURL=12.b0e2ac46.chunk.js.map