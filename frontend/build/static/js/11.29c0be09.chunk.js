(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[11],{150:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(152),o=function(e){var a=e.variant,t=e.children;return r.a.createElement(c.a,{variant:a},t)};o.defaultProps={variant:"info"},a.a=o},155:function(e,a,t){"use strict";var n=t(70),r=t(0),c=t.n(r),o=t(168),s=t(17);a.a=function(e){var a=e.isOwner,t=void 0!==a&&a,r=e.pages,i=e.page,l=e.isAdmin,u=void 0!==l&&l,d=e.keyword,m=void 0===d?"":d;return r>1&&c.a.createElement(o.a,{className:"mt-5 mx-auto"},Object(n.a)(Array(r).keys()).map((function(e){return c.a.createElement(s.LinkContainer,{key:e+1,to:t?"/owner/productslist/page/".concat(e+1):u?"/admin/productslist/page/".concat(e+1):m?"/search/".concat(m,"/page/").concat(e+1):"/page/".concat(e+1)},c.a.createElement(o.a.Item,{active:e+1===i},e+1))})))}},156:function(e,a,t){"use strict";t.d(a,"b",(function(){return m})),t.d(a,"c",(function(){return p})),t.d(a,"a",(function(){return f}));var n=t(27),r=t.n(n),c=t(43),o=t(44),s=t.n(o),i=(t(28),t(29)),l=function(){return{type:i.a.FETCH_PRODUCTS_START}},u=function(e){return{type:i.a.FETCH_PRODUCTS_SUCCESS,payload:e}},d=function(e){return{type:i.a.FETCH_PRODUCTS_FAIL,payload:e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(t){t(l());var n='\n     query{\n       getAllProducts(keyword:"'.concat(e,'" , pageNumber:').concat(a,") {\n       \n         products{\n          _id\n          name\n          image\n          brand\n          price\n          rating\n          numReviews\n          category\n          description\n          countInStock\n          top\n         }\n         pages\n         pageNumber\n         \n         \n       }\n     }\n     ");s()({method:"POST",data:{query:n},url:"/graphql"}).then((function(e){t(u(e.data.data.getAllProducts))})).catch((function(e){var a=e.response.data.errors?e.response.data.errors[0].message:e.response.data;t(d(a))}))}},p=function(e){var a=e.id;return function(){var e=Object(c.a)(r.a.mark((function e(t,n){var c,o,l,u,d,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"\n     mutation($id:String!){\n      removeProductById(id:$id) {\n         _id\n         \n       }\n     }\n     ",c=n().userReducer.userInfo.token,e.next=5,s.a.post("/graphql",{query:"\n     mutation($id:String!){\n      removeProductById(id:$id) {\n         _id\n         \n       }\n     }\n     ",variables:{id:a}},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}});case 5:o=e.sent,t({type:i.a.REMOVE_PRODUCT_SUCCESS,payload:o.data.data.removeProductById}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),m=(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l?void 0:l.data.errors)?null===e.t0||void 0===e.t0||null===(u=e.t0.response)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.errors[0].message:"this is not your product",t({type:i.a.REMOVE_PRODUCT_FAIL,payload:m});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a,t){return e.apply(this,arguments)}}()},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(a,t){var n=t().userReducer.userInfo.token;a(l());var r=Number(e),c="\n     query{\n      getAdminProducts( pageNumber:".concat(r,") {\n        products{\n         _id\n         name\n         image\n         brand\n         price\n         rating\n         numReviews\n         category\n         description\n         countInStock\n         top\n         }\n         pages\n         pageNumber\n         \n       }\n     }\n     ");s()({method:"POST",url:"/graphql",data:{query:c},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){a({type:"FETCH_MYADMIN_PRODUCTS",payload:e.data.data.getAdminProducts})})).catch((function(e){a(d(""))}))}}},165:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=(t(166),function(e){var a=e.value,t=e.text,n=e.color;return r.a.createElement("div",{className:"rating"},r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:a>=1?"fas fa-star":a>=.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:a>=2?"fas fa-star":a>=1.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:a>=3?"fas fa-star":a>=2.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:a>=4?"fas fa-star":a>=3.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:a>=5?"fas fa-star":a>=4.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,t&&t))});c.defaultProps={color:"#f8e825"},a.a=c},166:function(e,a,t){},189:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(151),o=t(87),s=t(144),i=t(160),l=t(165),u=t(35),d=function(e){var a=e.product;return r.a.createElement(i.a,{className:"my-3 p-3 rounded  mx-auto "},r.a.createElement(u.Link,{to:"/product/".concat(null===a||void 0===a?void 0:a._id)},r.a.createElement(i.a.Img,{src:null===a||void 0===a?void 0:a.image,variant:"top",style:{maxHeight:"300px",minHeight:"300px"}})),r.a.createElement(i.a.Body,null,r.a.createElement(u.Link,{to:"/product/".concat(null===a||void 0===a?void 0:a._id)},r.a.createElement(i.a.Title,{as:"div",className:"mx-auto",style:{color:"white"}}," ",null===a||void 0===a?void 0:a.name," ")),r.a.createElement(i.a.Text,null,r.a.createElement("div",{className:"my-3"},r.a.createElement(l.a,{value:null===a||void 0===a?void 0:a.rating,text:"".concat(null===a||void 0===a?void 0:a.numReviews,"reviews")}))),r.a.createElement(i.a.Text,{as:"h3"},"$",null===a||void 0===a?void 0:a.price)))},m=t(156),p=t(26),f=t(66),v=t(150),y=t(155),g=t(188),E=t(158),h=t(44),T=t.n(h),_=t(55),b=function(){var e=Object(p.b)(),a=Object(p.c)((function(e){return e.topProductReducer})),t=a.products,c=a.loading,o=a.errMassege;return Object(n.useEffect)((function(){e((function(e){e({type:_.a.FETCH_TOP_PRODUCTS_START}),T()({method:"POST",data:{query:"\n     query{\n      getTopProduct {\n       \n         \n          _id\n          name\n          image\n          brand\n          price\n          rating\n          numReviews\n          category\n          description\n          countInStock\n        \n         \n         \n       }\n     }\n     "},url:"/graphql"}).then((function(a){e({type:_.a.FETCH_TOP_PRODUCTS_SUCCESS,payload:a.data.data.getTopProduct})})).catch((function(a){var t=a.response.data.errors?a.response.data.errors[0].message:a.response.data;e({payload:t,type:_.a.FETCH_TOP_PRODUCTS_FAIL})}))}))}),[e]),c?r.a.createElement(f.a,null):o?"":r.a.createElement(g.a,{pause:"hover",className:"bg-dark"},null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement(g.a.Item,{key:e._id},r.a.createElement(u.Link,{to:"/product/".concat(e._id)},r.a.createElement(E.a,{src:e.image,fluid:!0}),r.a.createElement(g.a.Caption,{className:"casousel-caption"},r.a.createElement("h2",null,e.name," "))))})))};a.default=function(e){var a=e.match,t=Object(p.b)(),i=Object(p.c)((function(e){return e.productsReducer})),l=i.products,u=i.loading,f=i.errMessage,g=i.pages,E=i.pageNumber;return Object(n.useEffect)((function(){t(Object(m.b)(a.params.keyword,Number(a.params.pageNumber)||1))}),[t,a.params.keyword,a.params.pageNumber]),r.a.createElement(r.a.Fragment,null,!a.params.keyword&&r.a.createElement(b,null),u?"":f?r.a.createElement(v.a,{variant:"danger"}," ",f," "):r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(c.a,{style:{display:"flex",alignItems:"center",justifyItems:"center",width:"100%"}},null===l||void 0===l?void 0:l.map((function(e){return r.a.createElement(o.a,{key:e._id,sm:12,lg:3,md:6,style:{alignSelf:"center"}},r.a.createElement(d,{product:e}))}))),r.a.createElement(s.a,{style:{width:"100%",display:"flex",alignItems:"center",justifyItems:"center"}},r.a.createElement(y.a,{style:{alignSelf:"center"},pages:g,page:E,keyword:a.params.keyword?a.params.keyword:""}))))}}}]);
//# sourceMappingURL=11.29c0be09.chunk.js.map