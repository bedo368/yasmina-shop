(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[21],{151:function(e,n,t){"use strict";var a=t(1),r=t(2),o=t(4),c=t.n(o),i=t(0),u=t.n(i),d=t(5),p=["xl","lg","md","sm","xs"],l=u.a.forwardRef((function(e,n){var t=e.bsPrefix,o=e.className,i=e.noGutters,l=e.as,m=void 0===l?"div":l,s=Object(r.a)(e,["bsPrefix","className","noGutters","as"]),g=Object(d.a)(t,"row"),b=g+"-cols",y=[];return p.forEach((function(e){var n,t=s[e];delete s[e];var a="xs"!==e?"-"+e:"";null!=(n=null!=t&&"object"===typeof t?t.cols:t)&&y.push(""+b+a+"-"+n)})),u.a.createElement(m,Object(a.a)({ref:n},s,{className:c.a.apply(void 0,[o,g,i&&"no-gutters"].concat(y))}))}));l.displayName="Row",l.defaultProps={noGutters:!1},n.a=l},157:function(e,n,t){"use strict";t.d(n,"b",(function(){return p})),t.d(n,"a",(function(){return l})),t.d(n,"c",(function(){return m}));var a=t(27),r=t.n(a),o=t(43),c=t(44),i=t.n(c),u=t(28),d=function(e){return{type:u.a.FETCH_PRODUCT_FAIL,payload:e}},p=function(e){return function(n){n({type:u.a.FETCH_PRODUCT_START});i()({method:"POST",data:{query:"\n     query getProductById($id: String!) {\n        getProductById(id : $id) {\n         _id\n         name\n         image\n         brand\n         price\n         rating\n         numReviews\n         category\n         description\n         countInStock\n         top\n         \n         \n       }\n     }\n     ",variables:{id:e}},url:"/graphql"}).then((function(e){var t;n((t=e.data.data.getProductById,{type:u.a.FETCH_PRODUCT_SUCCESS,payload:t}))})).catch((function(e){var t=e.response.data.errors?e.response.data.errors[0].message:e.response.data;n(d(t))}))}},l=function(e){var n=e.name,t=(e.image,e.brand),a=e.price,c=e.category,p=e.description,l=e.countInStock,m=e.imageUpload,s=e.top;return function(){var e=Object(o.a)(r.a.mark((function e(o,g){var b,y;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b=g().userReducer.userInfo.token,y={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(b)}},o({type:u.a.CLEAR_PRODUCT}),o({type:u.a.FETCH_PRODUCT_START}),"\n  mutation createProduct($name :String!, $description:String!,$image:String!,$category:String!, $brand:String!,$countInStock:Float!,   $price:Float! , $top:Boolean) {\n    createProduct( name :$name,  description:$description, image:$image ,category:$category,  brand:$brand, countInStock:$countInStock,    price:$price , top :$top) {\n      _id\n      name\n      image\n      brand\n      price\n      rating\n      numReviews\n      category\n      description\n      countInStock\n      \n    }\n  }\n  ",i.a.post("/upload",m,y).then((function(e){i()({method:"POST",data:{query:"\n  mutation createProduct($name :String!, $description:String!,$image:String!,$category:String!, $brand:String!,$countInStock:Float!,   $price:Float! , $top:Boolean) {\n    createProduct( name :$name,  description:$description, image:$image ,category:$category,  brand:$brand, countInStock:$countInStock,    price:$price , top :$top) {\n      _id\n      name\n      image\n      brand\n      price\n      rating\n      numReviews\n      category\n      description\n      countInStock\n      \n    }\n  }\n  ",variables:{name:n,image:e.data,brand:t,price:Number(a),category:c,description:p,countInStock:Number(l),top:s}},url:"/graphql",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(b)}}).then((function(e){o({type:u.a.CREATE_NEW_PRODUCT,payload:e.data.data.createProduct})})).then((function(){o({type:u.a.CLEAR_PRODUCT})})).catch((function(e){var n=e.response.data.errors?e.response.data.errors[0].message:e.response.data;o(d(n))}))}));case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},m=function(e){var n=e._id,t=e.name,a=e.image,c=e.brand,p=e.price,l=e.category,m=e.description,s=e.countInStock,g=(e.imageUpload,e.top);return function(){var e=Object(o.a)(r.a.mark((function e(o,b){var y;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y=b().userReducer.userInfo.token,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(y)}},o({type:u.a.CLEAR_PRODUCT}),o({type:u.a.FETCH_PRODUCT_START}),"\n  mutation updateProduct($name :String, $description:String,$image:String,$category:String, $brand:String,$countInStock:Float,   $price:Float , $_id:String! $top:Boolean) {\n    updateProduct( _id:$_id ,name :$name,  description:$description, image:$image ,category:$category,  brand:$brand, countInStock:$countInStock,    price:$price top:$top) {\n      _id\n      name\n      image\n      brand\n      price\n      rating\n      numReviews\n      category\n      description\n      countInStock\n    }\n  }\n  ",i()({method:"POST",data:{query:"\n  mutation updateProduct($name :String, $description:String,$image:String,$category:String, $brand:String,$countInStock:Float,   $price:Float , $_id:String! $top:Boolean) {\n    updateProduct( _id:$_id ,name :$name,  description:$description, image:$image ,category:$category,  brand:$brand, countInStock:$countInStock,    price:$price top:$top) {\n      _id\n      name\n      image\n      brand\n      price\n      rating\n      numReviews\n      category\n      description\n      countInStock\n    }\n  }\n  ",variables:{_id:n,name:t,brand:c,price:Number(p),category:l,description:m,countInStock:Number(s),image:a,top:g}},url:"/graphql",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(y)}}).then((function(e){o({type:u.a.CLEAR_PRODUCT}),o({type:u.a.UPDATE_PRODUCT,action:e.data.data.updateProduct})})).catch((function(e){var n=e.response.data.errors?e.response.data.errors[0].message:e.response.data;o(d(n))}));case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()}},179:function(e,n,t){"use strict";t.r(n);var a=t(68),r=t(3),o=(t(27),t(43),t(67)),c=t(0),i=t.n(c),u=t(151),d=t(87),p=t(146),l=t(88),m=t(66),s=t(26),g=t(157);n.default=function(e){var n=e.history,t=e.match,b=Object(s.c)((function(e){return e.productReducer})),y=b.product,$=b.loading,S=b.getState,f=b.productUpdated,v=Object(s.b)();Object(c.useEffect)((function(){S||v(Object(g.b)(t.params.id)),C({name:null===y||void 0===y?void 0:y.name,price:null===y||void 0===y?void 0:y.price,image:null===y||void 0===y?void 0:y.image,brand:null===y||void 0===y?void 0:y.brand,description:null===y||void 0===y?void 0:y.description,countInStock:null===y||void 0===y?void 0:y.countInStock,category:null===y||void 0===y?void 0:y.category}),L(null===y||void 0===y?void 0:y.top)}),[S]),Object(c.useEffect)((function(){f&&n.push("/admin/productslist")}),[f]);var E=Object(c.useState)({name:"",price:"",image:"",brand:"",description:"",countInStock:"",category:""}),h=Object(o.a)(E,2),I=h[0],C=h[1],k=Object(c.useState)(null),O=Object(o.a)(k,2),T=O[0],_=(O[1],I.name),P=I.price,R=I.image,j=I.brand,U=I.description,w=I.countInStock,F=I.category,A=function(e){var n=e.target,t=n.name,o=n.value;C((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(a.a)({},t,o))}))},D=Object(c.useState)(!1),N=Object(o.a)(D,2),x=N[0],L=N[1];return i.a.createElement("div",{className:"create-product"},$&&i.a.createElement(m.a,null),i.a.createElement("h2",null,"create new product"),i.a.createElement("section",{className:"product-info"},i.a.createElement(u.a,null,i.a.createElement(d.a,{md:6},i.a.createElement(p.a,{onSubmit:function(e){e.preventDefault(),v(Object(g.c)({_id:y._id,name:_,price:P,image:R,brand:j,description:U,countInStock:w,category:F,imageUpload:T,top:x}))}},i.a.createElement(p.a.Group,{controlId:"name"},i.a.createElement(p.a.Label,null,"Name"),i.a.createElement(p.a.Control,{type:"text",placeholder:"Enter name",name:"name",value:_,onChange:A})),i.a.createElement(p.a.Group,{controlId:"price"},i.a.createElement(p.a.Label,null,"price"),i.a.createElement(p.a.Control,{type:"Number",placeholder:"Enter price",name:"price",value:P,onChange:A})),i.a.createElement(p.a.Group,{controlId:"email"},i.a.createElement(p.a.Check,{type:"checkbox",label:"Top",name:"top",checked:x,onChange:function(e){L(e.target.checked)}})),i.a.createElement(p.a.Group,{controlId:"image"},i.a.createElement(p.a.Label,null,"image"),i.a.createElement(p.a.Control,{type:"text",placeholder:"Enter image",name:"image",value:R,onChange:A}),i.a.createElement(p.a.File,{label:"chose file ",custom:!0})),i.a.createElement(p.a.Group,{controlId:"brand"},i.a.createElement(p.a.Label,null,"brand"),i.a.createElement(p.a.Control,{type:"text",placeholder:"Enter brand",name:"brand",value:j,onChange:A})),i.a.createElement(p.a.Group,{controlId:"description"},i.a.createElement(p.a.Label,null,"description"),i.a.createElement(p.a.Control,{type:"description",placeholder:"Enter description",name:"description",value:U,onChange:A}),i.a.createElement(p.a.Group,{controlId:"category"},i.a.createElement(p.a.Label,null,"category"),i.a.createElement(p.a.Control,{type:"text",placeholder:"Enter category",name:"category",value:F,onChange:A}))),i.a.createElement(p.a.Group,{controlId:"countInStock"},i.a.createElement(p.a.Label,null,"count In Stuck"),i.a.createElement(p.a.Control,{type:"number",placeholder:"Enter countInStock",name:"countInStock",value:w,onChange:A})),i.a.createElement(l.a,{type:"submit"}," update "))))))}}}]);
//# sourceMappingURL=21.acb00d9f.chunk.js.map