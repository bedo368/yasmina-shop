(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[12],{141:function(e,a,n){"use strict";var t=n(0),r=n.n(t),c=n(143),o=function(e){var a=e.variant,n=e.children;return r.a.createElement(c.a,{variant:a},n)};o.defaultProps={variant:"info"},a.a=o},146:function(e,a,n){"use strict";var t=n(66),r=n(0),c=n.n(r),o=n(159),i=n(17);a.a=function(e){var a=e.isOwner,n=void 0!==a&&a,r=e.pages,l=e.page,s=e.isAdmin,u=void 0!==s&&s,d=e.keyword,m=void 0===d?"":d;return r>1&&c.a.createElement(o.a,{className:"mt-5 mx-auto"},Object(t.a)(Array(r).keys()).map((function(e){return c.a.createElement(i.LinkContainer,{key:e+1,to:n?"/owner/productslist/page/".concat(e+1):u?"/admin/productslist/page/".concat(e+1):m?"/search/".concat(m,"/page/").concat(e+1):"/page/".concat(e+1)},c.a.createElement(o.a.Item,{active:e+1===l},e+1))})))}},147:function(e,a,n){"use strict";n.d(a,"b",(function(){return m})),n.d(a,"c",(function(){return p})),n.d(a,"a",(function(){return f}));var t=n(26),r=n.n(t),c=n(42),o=n(43),i=n.n(o),l=(n(27),n(28)),s=function(){return{type:l.a.FETCH_PRODUCTS_START}},u=function(e){return{type:l.a.FETCH_PRODUCTS_SUCCESS,payload:e}},d=function(e){return{type:l.a.FETCH_PRODUCTS_FAIL,payload:e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){n(s());var t='\n     query{\n       getAllProducts(keyword:"'.concat(e,'" , pageNumber:').concat(a,") {\n       \n         products{\n          _id\n          name\n          image\n          brand\n          price\n          rating\n          numReviews\n          category\n          description\n          countInStock\n         }\n         pages\n         pageNumber\n         \n         \n       }\n     }\n     ");i()({method:"POST",data:{query:t},url:"/graphql"}).then((function(e){n(u(e.data.data.getAllProducts))})).catch((function(e){var a=e.response.data.errors?e.response.data.errors[0].message:e.response.data;n(d(a))}))}},p=function(e){var a=e.id;return function(){var e=Object(c.a)(r.a.mark((function e(n,t){var c,o,s,u,d,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"\n     mutation($id:String!){\n      removeProductById(id:$id) {\n         _id\n         \n       }\n     }\n     ",c=t().userReducer.userInfo.token,e.next=5,i.a.post("/graphql",{query:"\n     mutation($id:String!){\n      removeProductById(id:$id) {\n         _id\n         \n       }\n     }\n     ",variables:{id:a}},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}});case 5:o=e.sent,n({type:l.a.REMOVE_PRODUCT_SUCCESS,payload:o.data.data.removeProductById}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),m=(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.data.errors)?null===e.t0||void 0===e.t0||null===(u=e.t0.response)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.errors[0].message:"this is not your product",n({type:l.a.REMOVE_PRODUCT_FAIL,payload:m});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a,n){return e.apply(this,arguments)}}()},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(a,n){var t=n().userReducer.userInfo.token;a(s());var r=Number(e),c="\n     query{\n      getAdminProducts( pageNumber:".concat(r,") {\n        products{\n         _id\n         name\n         image\n         brand\n         price\n         rating\n         numReviews\n         category\n         description\n         countInStock\n         }\n         pages\n         pageNumber\n         \n       }\n     }\n     ");i()({method:"POST",url:"/graphql",data:{query:c},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){a({type:"FETCH_MYADMIN_PRODUCTS",payload:e.data.data.getAdminProducts})})).catch((function(e){a(d(""))}))}}},156:function(e,a,n){"use strict";var t=n(0),r=n.n(t),c=(n(157),function(e){var a=e.value,n=e.text,t=e.color;return r.a.createElement("div",{className:"rating"},r.a.createElement("span",null,r.a.createElement("i",{style:{color:t},className:a>=1?"fas fa-star":a>=.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:t},className:a>=2?"fas fa-star":a>=1.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:t},className:a>=3?"fas fa-star":a>=2.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:t},className:a>=4?"fas fa-star":a>=3.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:t},className:a>=5?"fas fa-star":a>=4.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,n&&n))});c.defaultProps={color:"#f8e825"},a.a=c},157:function(e,a,n){},180:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),c=n(142),o=n(83),i=n(135),l=n(151),s=n(156),u=n(34),d=function(e){var a=e.product;return r.a.createElement(l.a,{className:"my-3 p-3 rounded"},r.a.createElement(u.Link,{to:"/product/".concat(null===a||void 0===a?void 0:a._id)},r.a.createElement(l.a.Img,{src:null===a||void 0===a?void 0:a.image,variant:"top",style:{maxHeight:"300px",minHeight:"300px"}})),r.a.createElement(l.a.Body,null,r.a.createElement(u.Link,{to:"/product/".concat(null===a||void 0===a?void 0:a._id)},r.a.createElement(l.a.Title,{as:"div"}," ",null===a||void 0===a?void 0:a.name," ")),r.a.createElement(l.a.Text,null,r.a.createElement("div",{className:"my-3"},r.a.createElement(s.a,{value:null===a||void 0===a?void 0:a.rating,text:"".concat(null===a||void 0===a?void 0:a.numReviews,"reviews")}))),r.a.createElement(l.a.Text,{as:"h3"},"$",null===a||void 0===a?void 0:a.price)))},m=n(147),p=n(25),f=n(56),v=n(141),g=n(146),y=n(179),E=n(149),h=n(43),T=n.n(h),_=n(53),b=function(){var e=Object(p.b)(),a=Object(p.c)((function(e){return e.topProductReducer})),n=a.products,c=a.loading,o=a.errMassege;return Object(t.useEffect)((function(){e((function(e){e({type:_.a.FETCH_TOP_PRODUCTS_START}),T()({method:"POST",data:{query:"\n     query{\n      getTopProduct {\n       \n         \n          _id\n          name\n          image\n          brand\n          price\n          rating\n          numReviews\n          category\n          description\n          countInStock\n        \n         \n         \n       }\n     }\n     "},url:"/graphql"}).then((function(a){e({type:_.a.FETCH_TOP_PRODUCTS_SUCCESS,payload:a.data.data.getTopProduct})})).catch((function(a){var n=a.response.data.errors?a.response.data.errors[0].message:a.response.data;e({payload:n,type:_.a.FETCH_TOP_PRODUCTS_FAIL})}))}))}),[e]),c?r.a.createElement(f.a,null):o?"":r.a.createElement(y.a,{pause:"hover",className:"bg-dark"},null===n||void 0===n?void 0:n.map((function(e){return r.a.createElement(y.a.Item,{key:e._id},r.a.createElement(u.Link,{to:"/product/".concat(e._id)},r.a.createElement(E.a,{src:e.image,fluid:!0}),r.a.createElement(y.a.Caption,{className:"casousel-caption"},r.a.createElement("h2",null,e.name," "))))})))};a.default=function(e){var a=e.match,n=Object(p.b)(),l=Object(p.c)((function(e){return e.productsReducer})),s=l.products,u=l.loading,y=l.errMessage,E=l.pages,h=l.pageNumber;return Object(t.useEffect)((function(){n(Object(m.b)(a.params.keyword,Number(a.params.pageNumber)||1))}),[n,a.params.keyword,a.params.pageNumber]),r.a.createElement(r.a.Fragment,null,!a.params.keyword&&r.a.createElement(b,null),u?r.a.createElement(f.a,null):y?r.a.createElement(v.a,{variant:"danger"}," ",y," "):r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(c.a,null,null===s||void 0===s?void 0:s.map((function(e){return r.a.createElement(o.a,{key:e._id,sm:12,lg:3,md:6},r.a.createElement(d,{product:e}))}))),r.a.createElement(i.a,{style:{width:"100%",display:"flex"}},r.a.createElement(g.a,{style:{alignSelf:"center"},pages:E,page:h,keyword:a.params.keyword?a.params.keyword:""}))))}}}]);
//# sourceMappingURL=12.1a9e3433.chunk.js.map