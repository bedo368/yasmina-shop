(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[16],{150:function(e,n,a){"use strict";var t=a(1),r=a(0),i=a.n(r),s=a(4),o=a.n(s);n.a=function(e){return i.a.forwardRef((function(n,a){return i.a.createElement("div",Object(t.a)({},n,{ref:a,className:o()(n.className,e)}))}))}},151:function(e,n,a){"use strict";var t=a(0),r=a.n(t),i=a(153),s=function(e){var n=e.variant,a=e.children;return r.a.createElement(i.a,{variant:n},a)};s.defaultProps={variant:"info"},n.a=s},153:function(e,n,a){"use strict";var t,r=a(1),i=a(2),s=a(4),o=a.n(s),l=a(0),d=a.n(l),c=a(22),u=a(11),m=a(5),p=a(64),f=a(31),v=a(65),E=((t={})[f.b]="show",t[f.a]="show",t),b=d.a.forwardRef((function(e,n){var a=e.className,t=e.children,s=Object(i.a)(e,["className","children"]),c=Object(l.useCallback)((function(e){Object(v.a)(e),s.onEnter&&s.onEnter(e)}),[s]);return d.a.createElement(f.e,Object(r.a)({ref:n,addEndListener:p.a},s,{onEnter:c}),(function(e,n){return d.a.cloneElement(t,Object(r.a)({},n,{className:o()("fade",a,t.props.className,E[e])}))}))}));b.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},b.displayName="Fade";var y=b,h=a(6),_=a.n(h),A={label:_.a.string.isRequired,onClick:_.a.func},O=d.a.forwardRef((function(e,n){var a=e.label,t=e.onClick,s=e.className,l=Object(i.a)(e,["label","onClick","className"]);return d.a.createElement("button",Object(r.a)({ref:n,type:"button",className:o()("close",s),onClick:t},l),d.a.createElement("span",{"aria-hidden":"true"},"\xd7"),d.a.createElement("span",{className:"sr-only"},a))}));O.displayName="CloseButton",O.propTypes=A,O.defaultProps={label:"Close"};var g=O,R=a(150),S=a(21),N=a(30),w=Object(R.a)("h4");w.displayName="DivStyledAsH4";var j=Object(S.a)("alert-heading",{Component:w}),I=Object(S.a)("alert-link",{Component:N.a}),F={show:!0,transition:y,closeLabel:"Close alert"},U=d.a.forwardRef((function(e,n){var a=Object(c.a)(e,{show:"onClose"}),t=a.bsPrefix,s=a.show,l=a.closeLabel,p=a.className,f=a.children,v=a.variant,E=a.onClose,b=a.dismissible,h=a.transition,_=Object(i.a)(a,["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"]),A=Object(m.a)(t,"alert"),O=Object(u.a)((function(e){E&&E(!1,e)})),R=!0===h?y:h,S=d.a.createElement("div",Object(r.a)({role:"alert"},R?_:void 0,{ref:n,className:o()(p,A,v&&A+"-"+v,b&&A+"-dismissible")}),b&&d.a.createElement(g,{onClick:O,label:l}),f);return R?d.a.createElement(R,Object(r.a)({unmountOnExit:!0},_,{ref:void 0,in:s}),S):s?S:null}));U.displayName="Alert",U.defaultProps=F,U.Link=I,U.Heading=j;n.a=U},160:function(e,n,a){"use strict";var t=a(1),r=a(2),i=a(4),s=a.n(i),o=a(0),l=a.n(o),d=a(5),c=l.a.forwardRef((function(e,n){var a=e.bsPrefix,i=e.className,o=e.striped,c=e.bordered,u=e.borderless,m=e.hover,p=e.size,f=e.variant,v=e.responsive,E=Object(r.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),b=Object(d.a)(a,"table"),y=s()(i,b,f&&b+"-"+f,p&&b+"-"+p,o&&b+"-striped",c&&b+"-bordered",u&&b+"-borderless",m&&b+"-hover"),h=l.a.createElement("table",Object(t.a)({},E,{className:y,ref:n}));if(v){var _=b+"-responsive";return"string"===typeof v&&(_=_+"-"+v),l.a.createElement("div",{className:_},h)}return h}));n.a=c},163:function(e,n,a){"use strict";a.d(n,"b",(function(){return d})),a.d(n,"c",(function(){return c})),a.d(n,"a",(function(){return u})),a.d(n,"d",(function(){return m}));var t=a(27),r=a.n(t),i=a(43),s=a(44),o=a.n(s),l=a(16),d=function(){return function(){var e=Object(i.a)(r.a.mark((function e(n,a){var t,i,s,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a().userReducer.userInfo.token,n({type:l.a.GET_USER_LIST_START}),"\n          query{\n            getAllUsersForAdmin{\n                  _id\n                  name\n                  email\n                  isAdmin\n                  isOwner\n              }\n          }\n        ",e.next=6,o()({method:"POST",url:"/graphql",data:{query:"\n          query{\n            getAllUsersForAdmin{\n                  _id\n                  name\n                  email\n                  isAdmin\n                  isOwner\n              }\n          }\n        "},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 6:i=e.sent,s=i.data,n({type:l.a.GET_USER_LIST_SUCCESS,payload:s.data.getAllUsersForAdmin}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),d=e.t0.response.data.errors?e.t0.response.data.errors[0].message:e.t0.response.data,n({type:l.a.GET_USER_LIST_FAIL,payload:d});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,a){return e.apply(this,arguments)}}()},c=function(e){return function(){var n=Object(i.a)(r.a.mark((function n(a,t){var i,s,d,c,u,m,p,f;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=t().userReducer.userInfo.token,"\n          mutation removeUserById($id:String!){\n            removeUserById(id :$id){\n                  _id\n                  \n               \n              }\n          }\n        ",n.next=5,o.a.post("/graphql",{query:"\n          mutation removeUserById($id:String!){\n            removeUserById(id :$id){\n                  _id\n                  \n               \n              }\n          }\n        ",variables:{id:e}},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)}});case 5:s=n.sent,d=s.data,a({type:l.a.REMOVE_USER_FROM_DATA,payload:d.data.removeUserById._id}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),f=(null===n.t0||void 0===n.t0||null===(c=n.t0.response)||void 0===c?void 0:c.data.errors)?null===n.t0||void 0===n.t0||null===(u=n.t0.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.errors[0].message:null===n.t0||void 0===n.t0||null===(p=n.t0.response)||void 0===p?void 0:p.data,a({type:l.a.REMOVE_USER_FAIL,payload:f});case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,a){return n.apply(this,arguments)}}()},u=function(e){return function(){var n=Object(i.a)(r.a.mark((function n(a,t){var i,s,d,c,u,m,p,f;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:l.a.GET_USER_PROFILE_START_FOR_ADMIN}),i=t().userReducer.userInfo.token,"\n          query getUserByIdForAdmin($id:String!){\n            getUserByIdForAdmin(id :$id){\n                  _id\n                  name\n                  email\n                  isAdmin\n                  ordersList{\n                    _id\n                  }\n              }\n          }\n        ",n.next=6,o.a.post("/graphql",{query:"\n          query getUserByIdForAdmin($id:String!){\n            getUserByIdForAdmin(id :$id){\n                  _id\n                  name\n                  email\n                  isAdmin\n                  ordersList{\n                    _id\n                  }\n              }\n          }\n        ",variables:{id:e}},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)}});case 6:s=n.sent,d=s.data,a({type:l.a.GET_USER_PROFILE_SUCCESS_FOR_ADMIN,payload:d.data.getUserByIdForAdmin}),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),f=(null===n.t0||void 0===n.t0||null===(c=n.t0.response)||void 0===c?void 0:c.data.errors)?null===n.t0||void 0===n.t0||null===(u=n.t0.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.errors[0].message:null===n.t0||void 0===n.t0||null===(p=n.t0.response)||void 0===p?void 0:p.data,a({type:l.a.GET_USER_PROFILE_FAIL_FOR_ADMIN,payload:f});case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,a){return n.apply(this,arguments)}}()},m=function(e){var n=e.id,a=e.adminPassword,t=e.isAdmin,s=e.name,d=e.email;return function(){var e=Object(i.a)(r.a.mark((function e(i,c){var u,m,p,f,v,E,b,y;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i({type:l.a.UPDATE_PROFILE_START_FOR_ADMIN}),u=c().userReducer.userInfo.token,"\n          query updateUserProfileForAdmin($id:String! , $name:String , $email:String , $adminPassword:String! , $isAdmin: Boolean! ){\n            updateUserProfileForAdmin(id :$id name:$name , email:$email , adminPassword:$adminPassword , isAdmin: $isAdmin){\n                  _id\n                  name\n                  email\n                  isAdmin\n                  ordersList{\n                    _id\n                  }\n              }\n          }\n        ",e.next=6,o.a.post("/graphql",{query:"\n          query updateUserProfileForAdmin($id:String! , $name:String , $email:String , $adminPassword:String! , $isAdmin: Boolean! ){\n            updateUserProfileForAdmin(id :$id name:$name , email:$email , adminPassword:$adminPassword , isAdmin: $isAdmin){\n                  _id\n                  name\n                  email\n                  isAdmin\n                  ordersList{\n                    _id\n                  }\n              }\n          }\n        ",variables:{id:n,adminPassword:a,isAdmin:t,name:s,email:d}},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)}});case 6:m=e.sent,p=m.data,i({type:l.a.UPDATE_PROFILE_SUCCESS_FOR_ADMIN,payload:p.data.updateUserProfileForAdmin}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),y=(null===e.t0||void 0===e.t0||null===(f=e.t0.response)||void 0===f?void 0:f.data.errors)?null===e.t0||void 0===e.t0||null===(v=e.t0.response)||void 0===v||null===(E=v.data)||void 0===E?void 0:E.errors[0].message:null===e.t0||void 0===e.t0||null===(b=e.t0.response)||void 0===b?void 0:b.data,i({type:l.a.GET_USER_PROFILE_FAIL_FOR_ADMIN,payload:y});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,a){return e.apply(this,arguments)}}()}},174:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),i=a(160),s=a(88),o=a(19),l=a(66),d=a(151),c=a(163);n.default=function(e){var n=e.history,a=Object(o.b)(),u=Object(o.c)((function(e){return e.adminReducer})),m=u.usersList,p=u.usersFetchState,f=u.usersListErrorMessage,v=u.deleteUserErrorMessage,E=Object(o.c)((function(e){return e.userReducer})).userInfo;return Object(t.useEffect)((function(){E||n.push("/"),E&&a(Object(c.b)())}),[a,E]),r.a.createElement(r.a.Fragment,null,v&&r.a.createElement(d.a,{variant:"danger"},v),r.a.createElement("h1",null,"users"),p?r.a.createElement(l.a,null):f?r.a.createElement(d.a,{variant:"danger"},f):r.a.createElement(i.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("th",null,"name"),r.a.createElement("th",null,"email"),r.a.createElement("th",null,"Admin"),r.a.createElement("th",null,"Owner"),r.a.createElement("th",null)),r.a.createElement("tbody",null,m.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null," ",e.name),r.a.createElement("td",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)," "),r.a.createElement("td",null," ",e.isAdmin?r.a.createElement("i",{className:"fas fa-check",style:{color:"green"}}):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null," ",e.isOwner?r.a.createElement("i",{className:"fas fa-check",style:{color:"green"}}):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(s.a,{className:"btn-sm",onClick:function(){n.push("/admin/user/".concat(e._id,"/edit"))}},r.a.createElement("i",{className:"fas fa-edit mx-1"})),r.a.createElement(s.a,{className:"btn-sm mx-1",onClick:function(){var n;n=e._id,window.confirm("are you sure")&&a(Object(c.c)(n))}},r.a.createElement("i",{className:"fas fa-trash"}))))})))))}}}]);
//# sourceMappingURL=16.da80f7ea.chunk.js.map