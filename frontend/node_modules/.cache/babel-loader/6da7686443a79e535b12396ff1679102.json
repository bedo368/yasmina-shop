{"ast":null,"code":"var _jsxFileName = \"/mnt/d/react&bac/mern-shop/frontend/src/pages/adminAccessUserProfile/UserProfileForAdmin.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Button, Col, Form, Row } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Message from \"../../components/message/Message\";\nimport Loader from \"../../components/loader/Loader\";\nimport { getUserProfileForAdmin, updateUserProfileForAdmin } from \"../../redux/user/admin/adminAction\";\nimport { Link } from \"react-router-dom\";\nimport FormContainer from \"../../components/FormContainer/FormContainer\";\n\nconst UserProfileForAdmin = ({\n  match\n}) => {\n  const dispatch = useDispatch();\n  const {\n    UserForAdminError,\n    getUserFetchState,\n    UserForAdmin,\n    updateUserState\n  } = useSelector(state => state.adminReducer);\n  const [userInfoInput, setUserInfo] = useState({\n    email: \"\",\n    name: \"\",\n    adminPassword: \"\"\n  });\n  const [isAdmin, setIsAdmin] = useState(false);\n  const {\n    email,\n    name,\n    adminPassword\n  } = userInfoInput;\n\n  const userInfoChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setUserInfo(preval => {\n      return { ...preval,\n        [name]: value\n      };\n    });\n  };\n\n  const submitHandler = event => {\n    event.preventDefault();\n    dispatch(updateUserProfileForAdmin({\n      name,\n      email,\n      adminPassword,\n      id: match.params.userid,\n      isAdmin\n    }));\n  };\n\n  useEffect(() => {\n    if (!(UserForAdmin === null || UserForAdmin === void 0 ? void 0 : UserForAdmin.name)) {\n      dispatch(getUserProfileForAdmin(match.params.userid));\n    } else {\n      setUserInfo(preval => ({ ...preval,\n        email: UserForAdmin.email,\n        name: UserForAdmin.name\n      }));\n      setIsAdmin(UserForAdmin.isAdmin);\n    }\n  }, [UserForAdmin]);\n  return /*#__PURE__*/React.createElement(FormContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/admin/userlist`,\n    className: \"btn btn-light my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, \" \", \"Go Back\"), getUserFetchState ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }) : UserForAdminError ? /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, UserForAdminError) : /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \" Edit User \"), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"name\",\n    placeholder: \"Enter user name\",\n    name: \"name\",\n    value: name,\n    onChange: userInfoChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, \"Email address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    placeholder: \"Enter user email\",\n    name: \"email\",\n    value: email,\n    onChange: userInfoChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Check, {\n    type: \"checkbox\",\n    label: \"Is Admin\",\n    name: \"isAdmin\",\n    checked: isAdmin,\n    onChange: e => {\n      setIsAdmin(e.target.checked);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"adminPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, \"Enter your password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Enter your password\",\n    name: \"adminPassword\",\n    value: adminPassword,\n    onChange: userInfoChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, \" update\")))));\n};\n\nexport default UserProfileForAdmin;","map":{"version":3,"sources":["/mnt/d/react&bac/mern-shop/frontend/src/pages/adminAccessUserProfile/UserProfileForAdmin.js"],"names":["React","useState","useEffect","Button","Col","Form","Row","useDispatch","useSelector","Message","Loader","getUserProfileForAdmin","updateUserProfileForAdmin","Link","FormContainer","UserProfileForAdmin","match","dispatch","UserForAdminError","getUserFetchState","UserForAdmin","updateUserState","state","adminReducer","userInfoInput","setUserInfo","email","name","adminPassword","isAdmin","setIsAdmin","userInfoChange","event","value","target","preval","submitHandler","preventDefault","id","params","userid","e","checked"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { Button, Col, Form, Row } from \"react-bootstrap\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport Message from \"../../components/message/Message\"\nimport Loader from \"../../components/loader/Loader\"\nimport {\n  getUserProfileForAdmin,\n  updateUserProfileForAdmin,\n} from \"../../redux/user/admin/adminAction\"\nimport { Link } from \"react-router-dom\"\nimport FormContainer from \"../../components/FormContainer/FormContainer\"\nconst UserProfileForAdmin = ({ match }) => {\n  const dispatch = useDispatch()\n  const { UserForAdminError, getUserFetchState, UserForAdmin ,updateUserState } = useSelector(\n    (state) => state.adminReducer\n  )\n\n  const [userInfoInput, setUserInfo] = useState({\n    email: \"\",\n    name: \"\",\n    adminPassword: \"\",\n  })\n  const [isAdmin, setIsAdmin] = useState(false)\n  const { email, name, adminPassword } = userInfoInput\n\n  const userInfoChange = (event) => {\n    const { name, value } = event.target\n    setUserInfo((preval) => {\n      return { ...preval, [name]: value }\n    })\n  }\n\n  const submitHandler = (event) => {\n    event.preventDefault()\n    dispatch(\n      updateUserProfileForAdmin({\n        name,\n        email,\n        adminPassword,\n        id: match.params.userid,\n        isAdmin,\n      })\n    )\n  }\n  useEffect(() => {\n    if (!UserForAdmin?.name ) {\n      dispatch(getUserProfileForAdmin(match.params.userid))\n    } else {\n      setUserInfo((preval) => ({\n        ...preval,\n        email: UserForAdmin.email,\n        name: UserForAdmin.name,\n      }))\n      setIsAdmin(UserForAdmin.isAdmin)\n    }\n  }, [UserForAdmin])\n  return (\n    <FormContainer>\n      <Link to={`/admin/userlist`} className=\"btn btn-light my-3\">\n        {\" \"}\n        Go Back\n      </Link>\n      {getUserFetchState ? (\n        <Loader />\n      ) : UserForAdminError ? (\n        <Message variant=\"danger\">{UserForAdminError}</Message>\n      ) : (\n        <Row>\n          <Col md={12}>\n            <h2> Edit User </h2>\n\n            <Form onSubmit={submitHandler}>\n              <Form.Group controlId=\"name\">\n                <Form.Label>Name</Form.Label>\n                <Form.Control\n                  type=\"name\"\n                  placeholder=\"Enter user name\"\n                  name=\"name\"\n                  value={name}\n                  onChange={userInfoChange}\n                />\n              </Form.Group>\n              <Form.Group controlId=\"email\">\n                <Form.Label>Email address</Form.Label>\n                <Form.Control\n                  type=\"email\"\n                  placeholder=\"Enter user email\"\n                  name=\"email\"\n                  value={email}\n                  onChange={userInfoChange}\n                />\n              </Form.Group>\n              <Form.Group controlId=\"email\">\n                <Form.Check\n                  type=\"checkbox\"\n                  label=\"Is Admin\"\n                  name=\"isAdmin\"\n                  checked={isAdmin}\n                  onChange={(e) => {\n                    setIsAdmin(e.target.checked)\n                  }}\n                />\n              </Form.Group>\n              <Form.Group controlId=\"adminPassword\">\n                <Form.Label>Enter your password</Form.Label>\n                <Form.Control\n                  type=\"password\"\n                  placeholder=\"Enter your password\"\n                  name=\"adminPassword\"\n                  value={adminPassword}\n                  onChange={userInfoChange}\n                  required\n                />\n              </Form.Group>\n              <Button type=\"submit\"> update</Button>\n            </Form>\n          </Col>\n        </Row>\n      )}\n    </FormContainer>\n  )\n}\n\nexport default UserProfileForAdmin\n"]},"metadata":{},"sourceType":"module"}