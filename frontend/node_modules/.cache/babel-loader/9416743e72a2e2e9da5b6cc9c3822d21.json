{"ast":null,"code":"var _jsxFileName = \"/mnt/d/react&bac/mern-shop/frontend/src/pages/productListPage/ProductListPage.js\";\nimport React, { useEffect } from \"react\";\nimport { Button, Col, Row, Table } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Loader from \"../../components/loader/Loader\";\nimport Message from \"../../components/message/Message\";\nimport { fetchProductsAscync } from \"../../redux/products/productsAction\";\n\nconst ProductsListPage = ({\n  history\n}) => {\n  const dispatch = useDispatch();\n  const {\n    userInfo\n  } = useSelector(state => state.userReducer);\n  const {\n    loading,\n    products,\n    errMessage\n  } = useSelector(state => state.productsReducer);\n\n  const deleteHandler = productId => {\n    if (window.confirm) {\n      dispatch(removeProductById({\n        id: productId\n      }));\n    } // dispatch()\n\n  };\n\n  const createProductHandler = () => {};\n\n  useEffect(() => {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(fetchProductsAscync());\n    } else {\n      history.push(\"/login\");\n    }\n  }, [dispatch, userInfo]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    className: \"align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }\n  }, \"Products\")), /*#__PURE__*/React.createElement(Col, {\n    className: \"text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"my-3\",\n    onClick: createProductHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-plus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, \" \"), \" Create Product\"))), loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }) : errMessage ? /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, errMessage) : /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    responsive: true,\n    className: \"table-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, \"name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"Brand\")), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, products === null || products === void 0 ? void 0 : products.map(product => /*#__PURE__*/React.createElement(\"tr\", {\n    key: product._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, \" \", product._id), /*#__PURE__*/React.createElement(Link, {\n    to: `/product/${product._id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"  \", /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 58\n    }\n  }, \" \", product.name)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, product.price), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, product.category), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, product.brand), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-sm btn-light\",\n    onClick: () => {\n      history.push(`/admin/product/${product._id}/edit`);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-edit mx-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"danger\",\n    className: \"btn-sm mx-1\",\n    onClick: () => {\n      deleteHandler(product._id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-trash\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }))))))));\n};\n\nexport default ProductsListPage;","map":{"version":3,"sources":["/mnt/d/react&bac/mern-shop/frontend/src/pages/productListPage/ProductListPage.js"],"names":["React","useEffect","Button","Col","Row","Table","useDispatch","useSelector","LinkContainer","Link","Loader","Message","fetchProductsAscync","ProductsListPage","history","dispatch","userInfo","state","userReducer","loading","products","errMessage","productsReducer","deleteHandler","productId","window","confirm","removeProductById","id","createProductHandler","isAdmin","push","map","product","_id","name","price","category","brand"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\"\nimport { Button, Col, Row, Table } from \"react-bootstrap\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { LinkContainer } from \"react-router-bootstrap\"\nimport { Link } from \"react-router-dom\"\nimport Loader from \"../../components/loader/Loader\"\nimport Message from \"../../components/message/Message\"\nimport { fetchProductsAscync } from \"../../redux/products/productsAction\"\n\nconst ProductsListPage = ({ history }) => {\n  const dispatch = useDispatch()\n\n  const { userInfo } = useSelector((state) => state.userReducer)\n  const { loading, products, errMessage } = useSelector((state) => state.productsReducer)\n\n  const deleteHandler = (productId) => {\n    if(window.confirm){\n      dispatch(removeProductById({id:productId}))\n    }\n    // dispatch()\n  }\n  const createProductHandler = () => {}\n  useEffect(() => {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(fetchProductsAscync())\n    } else {\n      history.push(\"/login\")\n    }\n  }, [dispatch, userInfo])\n  return (\n    <>\n      <Row className=\"align-items-center\">\n        <Col>\n          <h1>Products</h1>\n        </Col>\n        <Col className=\"text-right\">\n          <Button className=\"my-3\" onClick={createProductHandler}>\n            <i className=\"fas fa-plus\"> </i> Create Product\n          </Button>\n        </Col>\n      </Row>\n\n      {loading ? (\n        <Loader />\n      ) : errMessage ? (\n        <Message variant=\"danger\">{errMessage}</Message>\n      ) : (\n        <Table striped bordered hover responsive className=\"table-sm\">\n          <thead>\n            <th>ID</th>\n            <th>name</th>\n            <th>Price</th>\n            <th>Category</th>\n            <th>Brand</th>\n          </thead>\n          <tbody>\n            {products?.map((product) => (\n              <tr key={product._id}>\n                <td> {product._id}</td>\n                <Link  to={`/product/${product._id}`} >  <td> {product.name}</td></Link>\n               \n                <td>{product.price}</td>\n                <td>{product.category}</td>\n                <td>{product.brand}</td>\n                <td>\n                  <Button\n                    className=\"btn-sm btn-light\"\n                    onClick={() => {\n                      history.push(`/admin/product/${product._id}/edit`)\n                    }}\n                  >\n                    <i className=\"fas fa-edit mx-1\"></i>\n                  </Button>\n                  <Button\n                  variant=\"danger\"\n                    className=\"btn-sm mx-1\"\n                    onClick={() => {\n                      deleteHandler(product._id)\n                    }}\n                  >\n                    <i className=\"fas fa-trash\"></i>\n                  </Button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      )}\n    </>\n  )\n}\n\nexport default ProductsListPage\n"]},"metadata":{},"sourceType":"module"}