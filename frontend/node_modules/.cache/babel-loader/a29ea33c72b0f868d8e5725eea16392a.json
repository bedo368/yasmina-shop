{"ast":null,"code":"var _jsxFileName = \"/mnt/d/react&bac/mern-shop/frontend/src/pages/porductPage/ProductPage.jsx\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Card, Col, Form, Image, ListGroup, Row } from \"react-bootstrap\";\nimport Rating from \"../../components/Ratiing/Rating\";\nimport { useState, useEffect } from \"react\";\nimport { fetchProductAscync } from \"../../redux/product/productAction\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Loader from \"../../components/loader/Loader\";\nimport Message from \"../../components/message/Message\";\n\nconst ProductPage = ({\n  match\n}) => {\n  const dispatch = useDispatch();\n  const {\n    products\n  } = useSelector(state => state.productsReducer);\n  const productFromRedux = useSelector(state => state.productReducer);\n  const {\n    loading,\n    errMessage\n  } = productFromRedux;\n  const [qty, setQty] = useState(0);\n  const [product, setProduct] = useState({});\n  useEffect(() => {\n    if (products === null) {\n      dispatch(fetchProductAscync(match.params.id));\n    }\n\n    if (products !== null) {\n      setProduct(products.find(p => p._id === match.params.id));\n    }\n  }, [dispatch]);\n  useEffect(() => {\n    setProduct(productFromRedux.product);\n  }, [productFromRedux]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"productPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"btn btn-light my-3\",\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, \"Go Back\"), loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }) : errMessage ? /*#__PURE__*/React.createElement(Message, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, errMessage, \" \") : /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: product === null || product === void 0 ? void 0 : product.image,\n    alt: product === null || product === void 0 ? void 0 : product.name,\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }, product === null || product === void 0 ? void 0 : product.name, \" \")), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Rating, {\n    value: product === null || product === void 0 ? void 0 : product.rating,\n    text: `${product === null || product === void 0 ? void 0 : product.numReviews} reviews `,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"price : \", product === null || product === void 0 ? void 0 : product.price, \"$\"), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, \"Description : \", product === null || product === void 0 ? void 0 : product.description)), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    varient: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 19\n    }\n  }, \"price\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, \" $\", product === null || product === void 0 ? void 0 : product.price, \" \"), \" \")))), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    varient: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 19\n    }\n  }, \"Stauts\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 19\n    }\n  }, (product === null || product === void 0 ? void 0 : product.countInStock) > 0 ? \"in stock\" : \"outof stock\")))), product.countInStock > 0 && /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }\n  }, \"Qty\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    value: qty,\n    onChange: e => {\n      setQty(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, [...Array(product.countInStock).keys()].map(x => /*#__PURE__*/React.createElement(\"option\", {\n    key: x + 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 27\n    }\n  })))))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-block\",\n    type: \"button\",\n    disabled: (product === null || product === void 0 ? void 0 : product.countInStock) === 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, \"Add To Cart\")))));\n};\n\nexport default ProductPage;","map":{"version":3,"sources":["/mnt/d/react&bac/mern-shop/frontend/src/pages/porductPage/ProductPage.jsx"],"names":["React","Link","Button","Card","Col","Form","Image","ListGroup","Row","Rating","useState","useEffect","fetchProductAscync","useDispatch","useSelector","Loader","Message","ProductPage","match","dispatch","products","state","productsReducer","productFromRedux","productReducer","loading","errMessage","qty","setQty","product","setProduct","params","id","find","p","_id","image","name","rating","numReviews","price","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { Button, Card, Col, Form, Image, ListGroup, Row } from \"react-bootstrap\"\nimport Rating from \"../../components/Ratiing/Rating\"\nimport { useState, useEffect } from \"react\"\nimport { fetchProductAscync } from \"../../redux/product/productAction\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport Loader from \"../../components/loader/Loader\"\nimport Message from \"../../components/message/Message\"\nconst ProductPage = ({ match }) => {\n  const dispatch = useDispatch()\n  const { products } = useSelector((state) => state.productsReducer)\n  const productFromRedux = useSelector((state) => state.productReducer)\n  const { loading, errMessage } = productFromRedux\n  const [qty , setQty] = useState(0)\n  const [product, setProduct] = useState({})\n  useEffect(() => {\n    if (products === null) {\n      dispatch(fetchProductAscync(match.params.id))\n    }\n    if (products !== null) {\n      setProduct(products.find((p) => p._id === match.params.id))\n    }\n  }, [dispatch])\n  useEffect(() => {\n    setProduct(productFromRedux.product)\n  }, [productFromRedux])\n\n  return (\n    <div className=\"productPage\">\n      <Link className=\"btn btn-light my-3\" to=\"/\">\n        Go Back\n      </Link>\n      {loading ? (\n        <Loader />\n      ) : errMessage ? (\n        <Message>{errMessage} </Message>\n      ) : (\n        <Row>\n          <Col md={6}>\n            <Image src={product?.image} alt={product?.name} fluid />\n          </Col>\n          <Col md={3}>\n            <ListGroup.Item>\n              <h3>{product?.name} </h3>\n            </ListGroup.Item>\n            <ListGroup.Item>\n              <Rating value={product?.rating} text={`${product?.numReviews} reviews `} />\n            </ListGroup.Item>\n            <ListGroup.Item>price : {product?.price}$</ListGroup.Item>\n            <ListGroup.Item>Description : {product?.description}</ListGroup.Item>\n          </Col>\n          <Col md={3}>\n            <Card>\n              <ListGroup.Item varient=\"flush\">\n                <Row>\n                  <Col>price</Col>\n                  <Col>\n                    <strong> ${product?.price} </strong>{\" \"}\n                  </Col>\n                </Row>\n              </ListGroup.Item>\n            </Card>\n            <Card>\n              <ListGroup.Item varient=\"flush\">\n                <Row>\n                  <Col>Stauts</Col>\n                  <Col>{product?.countInStock > 0 ? \"in stock\" : \"outof stock\"}</Col>\n                </Row>\n              </ListGroup.Item>\n            </Card>\n            {product.countInStock > 0 && (\n              <ListGroup.Item>\n                <Row>\n                  <Col>Qty</Col>\n                  <Col>\n                    <Form.Control\n                      as=\"select\"\n                      value={qty}\n                      onChange={(e) => {\n                        setQty(e.target.value)\n                      }}\n                    >\n                      {\n                        [...Array(product.countInStock).keys()].map(x=>(\n                          <option key={x+1} >\n\n                          </option>\n                        ))\n                      }\n                    </Form.Control>\n                  </Col>\n                </Row>\n              </ListGroup.Item>\n            )}\n            <ListGroup.Item>\n              <Button\n                className=\"btn-block\"\n                type=\"button\"\n                disabled={product?.countInStock === 0}\n              >\n                Add To Cart\n              </Button>\n            </ListGroup.Item>\n          </Col>\n        </Row>\n      )}\n    </div>\n  )\n}\n\nexport default ProductPage\n"]},"metadata":{},"sourceType":"module"}